<div class="h-full w-full flex">
  <div class="h-full w-full bg-cover bg-center bg-fixed text-white flex flex-col gap-5 z-0"
       [ngStyle]="{backgroundImage: 'url(/assets/img/006.webp)'}">
    <!-- background overlay -->
    <div class="w-full h-full fixed bg-black top-0 -z-10 bg-opacity-50"></div>

    <div class="flex flex-col gap-5 py-5">
      <h1 class="text-center text-3xl font-bold">Calm & ready</h1>
      <p class="text-xl text-center font-medium">Keep calm and get ready for what's coming</p>
      <p class="text-center">You're about to listen to the best music of all time</p>
    </div>

    <div class="w-full flex flex-wrap justify-center gap-10 pb-10 pt-2" #loginWrapper>
      <!-- login form -->
      <div class="w-full md:w-1/3 bg-gray-900 bg-opacity-90 mx-5 md:mx-0 p-5">
        <form class="flex flex-col gap-4" [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()">
          <h2 class="text-center text-2xl font-medium">Login</h2>
          <p class="text-xl">Already a user?</p>
          <mat-form-field appearance="fill">
            <mat-label>Username</mat-label>
            <input type="text" matInput [formControl]="loginControls.username">
            <mat-error *ngIf="loginControls.username.invalid && (loginControls.username.dirty || loginControls.username.touched)">
              {{getLoginErrorMsg(loginControls.username, "username")}}
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Password</mat-label>
            <input type="password" matInput [formControl]="loginControls.password">
            <mat-error *ngIf="loginControls.password.invalid && (loginControls.password.dirty || loginControls.password.touched)">
              {{getLoginErrorMsg(loginControls.password, "password")}}
            </mat-error>
          </mat-form-field>
          <div class="flex flex-col gap-3 justify-center">
            <div class="text-center text-red-500" *ngIf="this.loginErrors.length > 0">
              <p *ngFor="let loginError of this.loginErrors">{{loginError}}</p>
            </div>
            <div class="flex justify-center">
              <button type="submit" mat-flat-button color="primary">Login</button>
            </div>
          </div>
        </form>
      </div>

      <!-- registration form -->
      <div class="w-full md:w-1/3 bg-gray-900 bg-opacity-90 mx-5 md:mx-0 p-5" #registrationWrapper>
        <form class="flex flex-col gap-4" [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
          <h2 class="text-center text-2xl font-medium">Register</h2>
          <mat-form-field appearance="fill">
            <mat-label>First name</mat-label>
            <input type="text" matInput [formControl]="registerControls.firstName">
            <mat-error *ngIf="registerControls.firstName.invalid && (registerControls.firstName.dirty || registerControls.firstName.touched)">
              {{getRegistrationErrorMsg(registerControls.firstName, "firstName")}}
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Last name</mat-label>
            <input type="text" matInput [formControl]="registerControls.lastName">
            <mat-error *ngIf="registerControls.lastName.invalid && (registerControls.lastName.dirty || registerControls.lastName.touched)">
              {{getRegistrationErrorMsg(registerControls.lastName, "lastName")}}
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Date of birth</mat-label>
            <input matInput [matDatepicker]="picker" [formControl]="registerControls.dob">
            <mat-hint>MM/DD/YYYY</mat-hint>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error *ngIf="registerControls.dob.invalid && (registerControls.dob.dirty || registerControls.dob.touched)">
              {{getRegistrationErrorMsg(registerControls.dob, "dob")}}
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Email</mat-label>
            <input type="email" matInput [formControl]="registerControls.email">
            <mat-error *ngIf="registerControls.email.invalid && (registerControls.email.dirty || registerControls.email.touched)">
              {{getRegistrationErrorMsg(registerControls.email, "email")}}
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Username</mat-label>
            <input type="text" matInput [formControl]="registerControls.username">
            <mat-error *ngIf="registerControls.username.invalid && (registerControls.username.dirty || registerControls.username.touched)">
              {{getRegistrationErrorMsg(registerControls.username, "username")}}
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Password</mat-label>
            <input type="password" matInput [formControl]="registerControls.password">
            <mat-error *ngIf="registerControls.password.invalid && (registerControls.password.dirty || registerControls.password.touched)">
              {{getRegistrationErrorMsg(registerControls.password, "password")}}
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Password confirmation</mat-label>
            <input type="password" matInput [formControl]="registerControls.passwordConfirmation">
            <mat-error *ngIf="registerControls.passwordConfirmation.invalid && (registerControls.passwordConfirmation.dirty || registerControls.passwordConfirmation.touched)">
              {{getRegistrationErrorMsg(registerControls.passwordConfirmation, "passwordConfirmation")}}
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Gender</mat-label>
            <mat-select value="RATHER_NOT_SAY">
              <mat-option value="RATHER_NOT_SAY" selected>Rather not say</mat-option>
              <mat-option value="MALE">Male</mat-option>
              <mat-option value="FEMALE">Female</mat-option>
            </mat-select>
          </mat-form-field>
          <div class="flex flex-col gap-3 justify-center">
            <p class="text-center text-green-500" *ngIf="this.successfulRegistration">Successfully registered. You may now log in</p>
            <div class="text-center text-red-500" *ngIf="this.registrationErrors.length > 0">
              <p *ngFor="let registrationError of this.registrationErrors">{{registrationError}}</p>
            </div>
            <div class="flex justify-center">
              <button type="submit" mat-flat-button color="primary">Register</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<footer class="fixed bottom-0 right-0 p-4 bg-black bg-opacity-50 text-xs flex flex-col gap-1" dir="rtl">
  <span>This is a mock application</span>
  <span>It's open source and its sole purpose is to learn an practice</span>
  <span>More information <a href="https://github.com/BenjaminGuzman/webmock" target="_blank" class="hover:underline text-blue-400">here</a></span>
</footer>
